<div class="inbox">
	<h2 class="inbox__title">Inbox</h2>
	<div class="inbox__count">
		<p class="inbox__text">You have {{ inbox.messages.length }} messages.</p>
		<div ng-hide="!inbox.messages.length" class="inbox__search">
			<input ng-model="inbox.search" type="text" class="inbox__search-field" placeholder="Search by 'from'">
		</div>
	</div>
	
	<ul class="inbox__action-bar">
		<li><button type="button" class="btn btn--action">Delete</button></li>
		<li><button type="button" class="btn btn--action">Mark as read</button></li>
		<li><button type="button" class="btn btn--action">Add to spam</button></li>
	</ul>

	<ul class="inbox__list">
		<li ng-show="!inbox.messages.length" class="inbox__message">No messages!</li>
		<li ng-repeat="message in inbox.messages | filter: { from: inbox.search }"
				ng-class="{'inbox__message--read': message.read}"
				class="inbox__message inbox__message--not-read">
			
			<ul class="inbox__info">
				<li class="inbox__elem"><input ng-model="message.read" type="checkbox" class="inbox__check"></li>
				<li class="inbox__elem"><b>from:</b> {{message.from}}</li>
				<li class="inbox__elem inbox__elem--subj">{{message.subject}}</li>
				<li class="inbox__elem">{{message.date | date: 'dd/MM/yyyy'}}</li>
			</ul>
			<div class="inbox__actions">
				<a ui-sref="email({id:message.id})" ng-click="messages.read=true" class="btn">Read</a>
				<a ng-click="inbox.deleteMessage($index)" class="btn">Delete</a>
			</div>
		</li>
	</ul>
</div>

